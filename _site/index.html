<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Tripal Crop Docker &middot; Our tools at your fingertips!
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/hyde.css">
  <link rel="stylesheet" href="/public/css/overrides.css">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-144-precomposed.png">
                                 <link rel="shortcut icon" href="/public/favicon.png">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>


  <body>

    <div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <h1>
        <a href="/">
          Tripal Crop Docker
        </a>
      </h1>
      <p class="lead">A fully provisioned Tripal site aimed at supporting crop-focused and breeding research.</p>
    </div>

    <nav class="sidebar-nav">
      <a class="sidebar-nav-item active" href="/">Home</a>

      

      
      
        
          
        
      
        
      
        
          
        
      

      <a class="sidebar-nav-item" href="https://github.com/DivSeek-Canada/tripal-crop-docker">GitHub project</a>
      <span class="sidebar-nav-item">Currently v7.x-1.1</span>
    </nav>

    <p>&copy; 2020. All rights reserved.</p>
  </div>
</div>


    <div class="content container">
      <div style="text-align:center;">

<img style="margin: 5px auto" src="/public/DivseekCan_Green_CapYes.png" />

<h2>We used <a href="https://www.docker.com/why-docker">Docker</a> so you can have <br /> your OWN breeder-focused portal!</h2>

<h4>We like to think of docker as packaging our website framework and tools <br /> into a <a href="https://www.docker.com/resources/what-container">present</a> just for you!</h4>

<p>Either use your own hosting solution or the Compute Canada OpenStack cloud <br /> and Follow our super simple, unwrapping instructions to auto-magically create your own customized portal!</p>

</div>
<hr />

<p>This docker container contains all the Drupal, Tripal and DivSeek Canada extension modules you need to create your own Tripal Crop site. Furthermore, it contains a number of command-line drush commands to make maitenance and administration of your Tripal crop site more streamlined.</p>

<p>The Tripal Crop Docker does NOT include any data or configuration in current releases. Manual configuration of the Tripal Crop site is required. Check the future work to see plans for upcoming releases.</p>

<h2 id="data-types">Data Types</h2>

<p><em>The following data types are fully supported in Tripal Crop Docker. Specifically, the full data lifecycle from import, visualization, integration and download is managed. Furthermore, all data is made FAIR through searches, web services, extensive metadata support, summaries, relationships between data points + types, display of integrated data on record pages and multi-format downloads.</em></p>

<ul>
  <li>Germplasm passport &amp; pedigree</li>
  <li>Phenotypic traits</li>
  <li>Phenotypic experiments &amp; measurements</li>
  <li>Genotypic experiments &amp; calls</li>
  <li>Sequence variants &amp; genetic markers</li>
  <li>Genetic maps &amp; loci</li>
  <li>Quantitative trait loci (QTL)</li>
  <li>Genome assemblies &amp; gene sets</li>
</ul>

<h2 id="software-stack">Software Stack</h2>

<p><em>The following software exists within the current tripal-crop-docker image. NOTE: PostgreSQL is inside the same image as Drupal for security reasons as it allows us to close incoming ports.</em></p>

<ul>
  <li>Tripal 3.4</li>
  <li>Drupal 7.73</li>
  <li>Composer 2.0.2</li>
  <li>Drush 8.4.5</li>
  <li>PHP 7.4.11</li>
  <li>PostgreSQL 11.9</li>
  <li>Apache 2.4.38</li>
  <li>Debian 10 (buster)</li>
</ul>

<p>In addition, the tripal-crop-docker contains a large number of Tripal extension modules to support crop research and breeding activities.</p>

<h2 id="usage">Usage</h2>

<p><strong>1) Pull the most recent image from the Github Package Repository.</strong></p>

<pre><code>docker pull docker.pkg.github.com/divseek-canada/tripal-crop-docker/tripal-crop-docker:1.1
</code></pre>

<p><strong>2) Create a running container exposing the website at localhost:9010</strong></p>

<p><em>To customize the installed site, change the variables available in the .env file without removing any.</em> <strong>Make sure to change DBPASS and ADMINPASS for security reasons.</strong></p>

<pre><code>docker run --publish=9010:80 --name=tcrop -tid \
  -e DBPASS='some secure password!' \
  -e ADMINPASS='another secure password!' \
  --env-file=.env \
  docker.pkg.github.com/divseek-canada/tripal-crop-docker/tripal-crop-docker:1.1
</code></pre>

<p><strong>3) Provision the container including installation of the software stack.</strong></p>

<pre><code>docker exec -it tcrop /app/init_scripts/startup_container.sh
</code></pre>

<h2 id="future-work">Future Work</h2>
<ul>
  <li>create a tripal extension module with drush commands
    <ul>
      <li>install and configure defaults for all Modules</li>
      <li>add permissions and roles which make sense</li>
    </ul>
  </li>
  <li>create command-line bash commands for easy site management
    <ul>
      <li>Certbot: create/renew certificate</li>
      <li>Upgrade? upgrades drupal and all extension modules</li>
    </ul>
  </li>
</ul>

<h2 id="funding">Funding</h2>

<p>The first iteration of the platform is funded under a <a href="https://www.genomecanada.ca/en/divseek-canada-harnessing-genomics-accelerate-crop-improvement-canada">Genome Canada Project</a> with co-funding from other partners.</p>

<h2 id="citation">Citation</h2>

<p>Lacey-Anne Sanderson, Kirstin E. Bett, Loren H. Rieseberg (2020) Tripal Crop Docker: A fully provisioned Tripal site aimed at supporting crop-focused and breeding research. DEVELOPMENT VERSION. DivSeek Canada Pilot Project: Harnessing Genomics to Accelerate Crop Improvement in Canada.</p>

    </div>

  </body>
</html>
